package com.cg.service;

import com.cg.model.*;
import com.cg.repository.*;
import lombok.RequiredArgsConstructor;
import org.springframework.stereotype.Service;
import java.util.List;

@Service
@RequiredArgsConstructor
public class PatientService {

	private final PatientRepository patientRepo;
	private final AppointmentRepository appointmentRepo;
	private final MedicalRecordRepository recordRepo;
	private final BillRepository billRepo;

	public Patient getPatientByUsername(String username) {
		return patientRepo.findByUserUsername(username);
	}

	public List<Appointment> getAppointments(Long patientId) {
		return appointmentRepo.findByPatientPatientId(patientId);
	}

	public List<MedicalRecord> getMedicalRecords(Long patientId) {
		return recordRepo.findByPatientPatientId(patientId);
	}

	public List<Bill> getBills(Long patientId) {
		return billRepo.findByPatientPatientId(patientId);
	}
}

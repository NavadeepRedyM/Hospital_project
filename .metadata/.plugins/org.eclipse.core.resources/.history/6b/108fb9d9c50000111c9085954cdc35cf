<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head><meta charset="UTF-8"><title>Manage Patients - Admin Panel</title></head>
<body style="font-family:Segoe UI;background:#f4f7f6;margin:0;padding:20px;">
<div style="max-width:1100px;margin:auto;background:#fff;padding:30px;border-radius:8px;box-shadow:0 4px 6px rgba(0,0,0,.1);">
  <h2 style="color:#2c3e50;border-bottom:2px solid #5dade2;padding-bottom:10px;">Manage Patients</h2>

  <div style="display:flex;gap:10px;align-items:center;">
    <form th:action="@{/admin/patients}" method="get" style="display:flex;gap:8px;">
      <input type="text" name="q" th:value="${q}" placeholder="Search by name..." />
      <button type="submit">Search</button>
      <a th:href="@{/admin/patients}" style="margin-left:6px;">Clear</a>
    </form>
    <a th:href="@{/admin/patients/add}" style="margin-left:auto;background:#27ae60;color:#fff;padding:8px 12px;border-radius:4px;text-decoration:none;">Add New Patient</a>
  </div>

  <table style="width:100%;border-collapse:collapse;margin-top:20px;">
    <thead>
      <tr style="background:#f8f9fa;color:#34495e;">
        <th style="padding:12px;border-bottom:1px solid #ddd;">ID</th>
        <th style="padding:12px;border-bottom:1px solid #ddd;">Full Name</th>
        <th style="padding:12px;border-bottom:1px solid #ddd;">Gender</th>
        <th style="padding:12px;border-bottom:1px solid #ddd;">Contact</th>
        <th style="padding:12px;border-bottom:1px solid #ddd;">Email</th>
        <th style="padding:12px;border-bottom:1px solid #ddd;">Blood Group</th>
        <th style="padding:12px;border-bottom:1px solid #ddd;">Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr th:each="p : ${patients}">
        <td th:text="${p.id}" style="padding:10px;border-bottom:1px solid #eee;"></td>
        <td th:text="${p.fullName}" style="padding:10px;border-bottom:1px solid #eee;"></td>
        <td th:text="${p.gender}" style="padding:10px;border-bottom:1px solid #eee;"></td>
        <td th:text="${p.contactNumber}" style="padding:10px;border-bottom:1px solid #eee;"></td>
        <td th:text="${p.email}" style="padding:10px;border-bottom:1px solid #eee;"></td>
        <td th:text="${p.bloodGroup}" style="padding:10px;border-bottom:1px solid #eee;"></td>
        <td style="padding:10px;border-bottom:1px solid #eee;">
          <a th:href="@{/admin/patients/edit/{id}(id=${p.id})}" style="background:#2980b9;color:#fff;padding:6px 10px;border-radius:4px;text-decoration:none;margin-right:6px;">Edit</a>
          <form th:action="@{/admin/patients/delete/{id}(id=${p.id})}" method="post" style="display:inline;">
            
          </form>
        </td>
      </tr>
      <tr th:if="${#lists.isEmpty(patients)}">
        <td colspan="7" style="padding:10px;">No patients found.</td>
      </tr>
    </tbody>
  </table>
</div>
</body>
</html>
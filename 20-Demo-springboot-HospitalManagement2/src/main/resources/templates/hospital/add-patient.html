<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>Add Patient</title>
  <style>
    .error { color: #c0392b; font-size: 13px; margin-top: 4px; }
    .field { margin-bottom: 12px; }
    input[type="text"], input[type="email"] { width: 100%; padding: 8px; }
    .btn { padding: 8px 14px; }
  </style>
</head>
<body>
<div style="max-width:560px;margin:20px auto;background:#fff;padding:24px;border-radius:8px;">
  <h2>Add Patient</h2>

  <form th:action="@{/admin/patients/save}" th:object="${patient}" method="post">
    <div class="field">
      <label>Full Name</label>
      <input type="text" th:field="*{fullName}" required />
      <div class="error" th:if="${#fields.hasErrors('fullName')}" th:errors="*{fullName}"></div>
    </div>

    <div class="field">
      <label>Gender</label>
      <input type="text" th:field="*{gender}" />
      <div class="error" th:if="${#fields.hasErrors('gender')}" th:errors="*{gender}"></div>
    </div>

    <!-- ✅ Contact Number: digits only, exactly 10 -->
    <div class="field">
      <label>Contact Number</label>
      <input type="text"
             th:field="*{contactNumber}"
             inputmode="numeric"
             pattern="^[0-9]{10}$"
             maxlength="10"
             placeholder="10-digit number"
             oninput="this.value=this.value.replace(/[^0-9]/g,'');" />
      <small>Only digits; exactly 10.</small>
      <div class="error" th:if="${#fields.hasErrors('contactNumber')}" th:errors="*{contactNumber}"></div>
    </div>

    <!-- ✅ Email: Gmail only -->
    <div class="field">
      <label>Email</label>
      <input type="email"
             th:field="*{email}"
             placeholder="username@gmail.com"
             pattern="^[A-Za-z0-9._%+-]+@gmail\.com$" />
      <small>Must be a Gmail address (e.g., user@gmail.com).</small>
      <div class="error" th:if="${#fields.hasErrors('email')}" th:errors="*{email}"></div>
    </div>

    <div class="field">
      <label>Address</label>
      <input type="text" th:field="*{address}" />
      <div class="error" th:if="${#fields.hasErrors('address')}" th:errors="*{address}"></div>
    </div>

    <div class="field">
      <label>Blood Group</label>
      <input type="text" th:field="*{bloodGroup}" />
      <div class="error" th:if="${#fields.hasErrors('bloodGroup')}" th:errors="*{bloodGroup}"></div>
    </div>

    <button class="btn" type="submit">Save</button>
    <a th:href="@{/admin/patients}" class="btn">Cancel</a>
  </form>
</div>
</body>
</html>